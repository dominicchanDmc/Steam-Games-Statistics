!function(){"use strict";!function(){var e=class{constructor(e,t,a,r,n,l,i,s,o,c,d,u,p,g,m,h){this.tag=e,this.classArr=t,this.name=a,this.id=r,this.innerHTML=n,this.lableName=i,this.inputType=l,this.value=s,this.options=c,this.attribute=o,this.readonly=d,this.onClick=u,this.src=p,this.skipTd=h,this.colSpan=m}},t=class{constructor(e,t){this.displayText=e,this.value=t}};function a(e,a){let r=[];"orderBy"!=a&&r.push(new t("",""));for(const a in e){let n=new t;n.value=a,n.displayText=e[a],r.push(n)}return r}function r(e,a){let r=[];r.push(new t("",""));for(let n=0;n<e.length;n++){let l=new t;l.value=a[n],l.displayText=e[n],r.push(l)}return r}function n(t){let a=new e;for(const e in t)a[e]=t[e];return a}function l(e){let t=document.getElementById("gameName"),a=document.getElementById("releaseFrom"),r=document.getElementById("releaseTo"),n=document.getElementById("operator"),l=document.getElementById("rating"),i=document.getElementById("languages"),s=document.getElementById("categories"),o=document.getElementById("orderBy");const c=document.getElementById("gameCompare1"),d=document.getElementById("gameCompare2"),u=document.getElementById("tb"),p=document.getElementById("ch"),g=document.getElementById("ownersChb"),m=document.getElementById("releaseDateChb"),h=document.getElementById("priceChb"),b=document.getElementById("supportedLanguagesChb"),y=document.getElementById("categoriesChb"),C=document.getElementById("genresChb"),v=document.getElementById("tagsChb"),f=document.getElementById("averageForeverChb"),T=document.getElementById("totalNegativeChb"),w=document.getElementById("totalPositiveChb"),B=document.getElementById("reviewScoreChb"),k=document.getElementById("ratingChb"),A=document.getElementById("filterReleaseFrom"),E=document.getElementById("filterReleaseTo"),L=document.getElementById("filterOperator"),N=document.getElementById("filterRating"),S=document.getElementById("statistSupportedLanguagesRad"),R=document.getElementById("statistCategoriesRad"),I=document.getElementById("statistGenresRad"),x=document.getElementById("statistTagsRad");let D=new class{constructor(e,t,a,r,n,l,i,s){this.gameName=e,this.releaseFrom=t,this.releaseTo=a,this.operator=r,this.rating=n,this.languages=l,this.categories=i,this.orderBy=s}checkOnlyOneCriteria(e,t){let a=0;return"search"===e?(this.gameName&&a++,this.releaseFrom&&a++,this.releaseTo&&a++,(this.operator||this.rating)&&a++,this.languages&&a++,this.categories&&a++):"compare"===e?(this.owners&&a++,this.release_date&&a++,this.price&&a++,this.supported_languages&&a++,this.categories&&a++,this.genres&&a++,this.tags&&a++,this.average_forever&&a++,this.total_negative&&a++,this.total_positive&&a++,this.review_score&&a++,this.rating&&a++):"statist"===e&&this.radioBtn&&a++,a===t}getCheckedPropertiesArray(e){const t=[];for(const e in this)this[e]&&t.push(e);let a;return"compare"===e&&(a=t.filter((e=>"gameCompare1"!==e&&"gameCompare2"!==e&&"radioBtn"!==e&&"source"!==e))),a}getSelectedRadio(){return function(e){switch(e){case"supportedLanguages":return"supported_languages";case"categories":return"categories";case"tags":return"tags";case"genres":return"genres"}}(this.radioBtn)}areOnlyFiveFieldsChecked(){const e=["rating","total_negative","total_positive","review_score","average_forever"];return this.getCheckedPropertiesArray("compare").every((t=>e.includes(t)))}};return D.source=e,"search"===e?(D.gameName=t.value,D.releaseFrom=a.value,D.releaseTo=r.value,D.operator=n.value,D.rating=l.value,D.languages=i.value,D.categories=s.value,D.orderBy=o.value):"compare"===e?(D.gameCompare1=c.value,D.gameCompare2=d.value,p.checked?D.radioBtn=p.value:D.radioBtn=u.value,D.release_date=m.checked,D.owners=g.checked,D.rating=k.checked,D.price=h.checked,D.total_positive=w.checked,D.total_negative=T.checked,D.review_score=B.checked,D.average_forever=f.checked,D.supported_languages=b.checked,D.categories=y.checked,D.tags=v.checked,D.genres=C.checked):"statist"===e&&(D.filterReleaseFrom=A.value,D.filterReleaseTo=E.value,D.filterOperator=L.value,D.filterRating=N.value,S.checked?D.radioBtn=S.value:R.checked?D.radioBtn=R.value:I.checked?D.radioBtn=I.value:x.checked&&(D.radioBtn=x.value)),D}function i(e,t){let a={};for(let r=0;r<e.length;r++)a[e[r]]=t[r];return a}function s(e){let t=new class{};for(const a in e)t[a]=e[a];return t}function o(e){return e.replace(/\[|\]|'/g,"")}function c(e){switch(e){case"average_forever":return"User Average Forever :";case"release_date":return"Release Date :";case"review_score":return"Review Score :";case"supported_languages":return"Supported Languages :";case"total_negative":return"Total Negative :";case"total_positive":return"Total Positive :";case"price":return"Price (USD) :";default:return e.charAt(0).toUpperCase()+e.slice(1)+" :"}}function d(e){let t=[],a=o(e);if(a){let e=a.split(",");if(Array.isArray(e))return e;t.push(e)}return t}function u(e){let t=document.createElement(e.tag);if("select"===e.tag)e.options.forEach((e=>{let a=document.createElement("option");a.value=e.value,a.innerHTML=e.displayText,t.appendChild(a)}));else if("input"===e.tag){if("text"!=e.inputType&&(t.type=e.inputType),"radio"===e.inputType&&e.attributes)for(const[a,r]of Object.entries(e.attributes))t.setAttribute(a,r)}else"label"===e.tag&&e.lableName?t.setAttribute("for",e.lableName):"button"===e.tag&&e.attribute?t.setAttribute("data-name",e.attribute):"img"===e.tag&&e.src&&(t.src=e.src);return Array.isArray(e.classArr)?e.classArr.forEach((e=>{t.classList.add(e)})):e.classArr&&t.classList.add(e.classArr),e.value&&(t.value=e.value),e.name?t.innerHTML=e.name:e.innerHTML&&(t.innerHTML=e.innerHTML),e.id&&(t.id=e.id),e.readonly&&(t.readOnly=!0),e.onClick&&(t.onclick=e.onClick),t}function p(t){let a=u(new e("tr"));return t.forEach((t=>{if(t.trClass&&"filterTitle"===t.trClass[0]&&a.classList.add(t.trClass),Array.isArray(t))if("operator"===t[0].id||"filterOperator"===t[0].id){let e=g(t[0]),r=g(t[1]),n=e[0].children[0],l=r[0];"filterOperator"===t[0].id&&(l.colSpan=2),l.insertBefore(n,l.lastElementChild),a.appendChild(r[0])}else if("searchBtn"===t[0].id||"compareBtn"===t[0].id||"statistBtn"===t[0].id){let r=u(t[0]),n=g(t[1]);r.appendChild(n[0]);let l=u(new e("td"));l.colSpan="6","statistBtn"===t[0].id&&l.classList.add("statistBtnTd"),l.appendChild(r),a.appendChild(l)}else if("tb"===t[0].id){let r=u(new e("td")),l=u(n({tag:"label",innerHTML:"Display By:"})),i=u(n({tag:"label",innerHTML:"Table",lableName:"tb"})),s=u(n({tag:"label",innerHTML:"Chart",lableName:"ch"}));r.appendChild(l),r.colSpan=2;let o=u(t[0]),c=u(t[1]);r.appendChild(i),r.appendChild(o),r.appendChild(s),r.appendChild(c),a.appendChild(r)}else{let e=g(t);Array.isArray(e)?e.forEach((e=>{a.appendChild(e)})):a.appendChild(e)}else{let e=g(t);Array.isArray(e)?e.forEach((e=>{a.appendChild(e)})):a.appendChild(e)}})),a}function g(e){let t=[];return Array.isArray(e)?e.forEach((e=>{t=t.concat(m(e))})):t=m(e),t}function m(t){let a=[],r=u(new e("td"));if(t.tdClass&&r.classList.add(t.tdClass),t.colSpan&&(r.colSpan=t.colSpan),t.lableName){let n=[];t.lableClass&&(n=t.lableClass);let l=u(new e("label",n,null,null,t.lableName,t.id));t.skipTd?a.push(l):r.appendChild(l)}let n=u(t);return t.skipTd?a.push(n):r.appendChild(n),t.skipTd||a.push(r),a}function h(e,t){return 0===t?"No result":function(e){switch(e){case"supported_languages":return"Supported Languages";case"categories":return"Categories";case"tags":return"Tags";case"genres":return"Genres"}}(e.displayLable)}function b(e){let t,a,r,n;return"search"===e.source?(t=Date.parse(e.releaseFrom),a=Date.parse(e.releaseTo),r=e.operator,n=e.rating):"statist"===e.source&&(t=Date.parse(e.filterReleaseFrom),a=Date.parse(e.filterReleaseTo),r=e.filterOperator,n=e.filterRating),t&&a&&a<t?(alert("Release To must later than Release From"),!1):!(r&&!n||!r&&n)||(alert("Missing Operator or Rating"),!1)}document.addEventListener("DOMContentLoaded",(async()=>{const t=a({greaterEqual:"Greater and Equal (>=)",greater:"Greater (>)",samller:"Samller (<)"}),m=["English","French","German","Italian","Japanese","Korean","Russian","Simplified Chinese","Traditional Chinese"],y=["Eng","Fre","Ger","Ita","Jap","Koean","Rus","SC","TC"],f=r(m,y),T=["Co-op","Full controller support","LAN Co-op","MMO","Multi-player","Online Co-op","Online PvP","Partial Controller Support","PvP","Shared/Split Screen","Single-player","Steam Achievements"],w=["Coo","FCS","LCoo","MMO","Mp","OCoo","OPvP","PCS","PvP","SSS","SP","SA"],B=r(T,w),k=a({ratingDesc:"Rating Descending",ratingAsc:"Rating Ascending",nameDesc:"Name Descending",nameAsc:"Name Ascending",releaseDateDesc:"Release Date Descending",releaseDateAsc:"Release Date Ascending"},"orderBy"),A=new e("",["fa-solid","fa-magnifying-glass"],"Search","searchPage","Search and display detail information by different criteria"),E=new e("",["fa-solid","fa-table"],"Compare","comparePage","Compare item between 2 games with table or chart"),L=new e("",["fa-solid","fa-chart-simple"],"Statistics","statistPage","Data statistics for the period"),N=new e("",["fa-solid","fa-house"],"Home","frontPage"),S=[[new e("input",null,null,"gameName",null,"text","Name:"),new e("input",null,null,"releaseFrom",null,"month","Release From:"),new e("input",null,null,"releaseTo",null,"month","Release To:")],[[n({tag:"select",id:"operator",options:t}),n({tag:"input",name:"rating",id:"rating",inputType:"number",attribute:"0.01",lableName:"Rating:"})],n({tag:"select",id:"languages",options:f,lableName:"Supported languages:"}),n({tag:"select",id:"categories",options:B,lableName:"Categories:"})],[n({tag:"select",id:"orderBy",options:k,lableName:"Order by:"}),[n({tag:"button",classArr:["searchCriteriaBtn"],id:"searchBtn",innerHTML:"Search"}),n({tag:"i",classArr:["fa-solid","fa-magnifying-glass"]})]]],R=n({tag:"input",inputType:"text",classArr:["searchListCol-150"],value:"Name",readonly:"true"}),I=n({tag:"input",classArr:["searchListCol-80"],inputType:"text",value:"Release Date",readonly:"true"}),x=n({tag:"input",classArr:["searchListCol-80"],inputType:"text",value:"Rating",readonly:"true"}),D=n({tag:"input",inputType:"text",value:"Languages",classArr:["searchListCol-150"],readonly:"true"}),O=n({tag:"input",inputType:"text",classArr:["searchListCol-150"],value:"Categories",readonly:"true"}),M=n({tag:"button",classArr:["searchResultBtn"],innerHTML:"Select"}),_=n({tag:"button",classArr:["searchResultBtn"],innerHTML:"Compare"}),H=[R,x,I,D,O],P=n({tag:"input",id:"gameCompare1",inputType:"text",classArr:["CompareCol-300"],lableName:"Game 1:",readonly:"true",colSpan:2}),F=n({tag:"input",id:"gameCompare2",inputType:"text",classArr:["CompareCol-300"],lableName:"Game 2:",readonly:"true",colSpan:2}),j=n({tag:"input",inputType:"radio",id:"tb",value:"Table",attributes:{name:"displayBy",value:"Table",id:"tb",checked:"checked"}}),G=n({tag:"input",inputType:"radio",id:"ch",value:"Chart",attributes:{name:"displayBy",value:"ch",id:"ch"}}),z=n({tag:"button",classArr:["compareCriteriaBtn"],id:"compareBtn",innerHTML:"Compare"}),q=n({tag:"i",classArr:["fa-solid","fa-table"],skipTd:!0}),Z=n({tag:"input",inputType:"checkbox",id:"ownersChb",value:"owners",lableName:"Owners",skipTd:!1,attributes:{value:"owners",id:"ownersChb"}}),U=n({tag:"input",inputType:"checkbox",id:"releaseDateChb",value:"releaseDate",lableName:"Release Date",skipTd:!1,attributes:{value:"releaseDate",id:"releaseDateChb"}}),V=n({tag:"input",inputType:"checkbox",id:"priceChb",value:"price",lableName:"Price",skipTd:!1,attributes:{value:"price",id:"priceChb"}}),$=n({tag:"input",inputType:"checkbox",id:"supportedLanguagesChb",value:"supportedLanguages",lableName:"Supported Languages",skipTd:!1,attributes:{value:"supportedLanguages",id:"supportedLanguages"}}),J=n({tag:"input",inputType:"checkbox",id:"categoriesChb",value:"categories",lableName:"Categories",skipTd:!1,attributes:{value:"categories",id:"categoriesChb"}}),K=n({tag:"input",inputType:"checkbox",id:"genresChb",value:"genres",lableName:"Genres",skipTd:!1,attributes:{value:"genres",id:"genres"}}),W=n({tag:"input",inputType:"checkbox",id:"tagsChb",value:"tags",lableName:"Tags",skipTd:!1,attributes:{value:"tags",id:"tags"}}),Q=n({tag:"input",inputType:"checkbox",id:"averageForeverChb",value:"averageForever",lableName:"User Average Forever (C)",skipTd:!1,attributes:{value:"averageForeverChbObj",id:"averageForeverChbObj"}}),X=n({tag:"input",inputType:"checkbox",id:"totalNegativeChb",value:"totalNegative",lableName:"Total Negative (C)",skipTd:!1,attributes:{value:"totalNegative",id:"totalNegativeChb"}}),Y=n({tag:"input",inputType:"checkbox",id:"totalPositiveChb",value:"totalPositive",lableName:"Total Positive (C)",skipTd:!1,attributes:{value:"totalPositive",id:"totalPositive"}}),ee=n({tag:"input",inputType:"checkbox",id:"reviewScoreChb",value:"reviewScore",lableName:"Review Score (C)",skipTd:!1,attributes:{value:"reviewScore",id:"reviewScore"}}),te=[[U,Z,n({tag:"input",inputType:"checkbox",id:"ratingChb",value:"rating",lableName:"Rating (C)",skipTd:!1,attributes:{value:"ratingChbObj",id:"ratingChbObj"}}),V],[Y,X,ee,Q],[$,J,W,K],[[j,G],[z,q]]],ae=n({tag:"label",classArr:["filterLabel"],innerHTML:"Data Filter",readonly:"true",colSpan:4,trClass:["filterTitle"]}),re=n({tag:"input",id:"filterReleaseFrom",inputType:"month",lableName:"Release From:"}),ne=n({tag:"input",id:"filterReleaseTo",inputType:"month",lableName:"Release To:"}),le=[[ae],[[n({tag:"select",id:"filterOperator",options:t}),n({tag:"input",name:"rating",id:"filterRating",inputType:"number",attribute:"0.01",lableName:"Rating:"})],re,ne],[n({tag:"label",classArr:["filterLabel"],innerHTML:"Statistics Criteria",readonly:"true",colSpan:4,trClass:["filterTitle"]})],[[n({tag:"input",inputType:"radio",name:"statistRad",id:"statistSupportedLanguagesRad",value:"supportedLanguages",lableName:"Supported Languages",skipTd:!1,attributes:{value:"supportedLanguages",id:"supportedLanguages",name:"statistRad"}}),n({tag:"input",inputType:"radio",name:"statistRad",id:"statistCategoriesRad",value:"categories",lableName:"Categories",skipTd:!1,attributes:{value:"categories",id:"categoriesRad",name:"statistRad"}}),n({tag:"input",inputType:"radio",name:"statistRad",id:"statistGenresRad",value:"genres",lableName:"Genres",skipTd:!1,attributes:{value:"genres",id:"genres",name:"statistRad"}}),n({tag:"input",inputType:"radio",id:"statistTagsRad",value:"tags",lableName:"Tags",skipTd:!1,attributes:{value:"tags",id:"tags",name:"statistRad"}})]],[[n({tag:"button",classArr:["statistCriteriaBtn"],id:"statistBtn",innerHTML:"Statistics"}),n({tag:"i",classArr:["fa-solid","fa-chart-simple"],skipTd:!0})]]],ie=await async function(){const e=await fetch("/data/steamData-after2019.json"),t=await e.json();return Object.values(t).reduce(((e,t)=>Object.assign(e,{[t.name]:t})),{})}(),se=document.getElementById("navBtn"),oe=document.querySelector(".frontPageBtn"),ce=document.querySelector("#search-searchArea");function de(t){const a=u(new e("div","btnArea")),r=u(new e("span",["icon","icon-circle"])),n=u(new e("i",["icon-1","icon-1b"].concat(t.classArr))),l=u(new e("p","text-6",null,null,t.innerHTML)),i=u(new e("h6",null,t.name));a.addEventListener("click",(()=>{document.getElementById(t.id).scrollIntoView()})),r.appendChild(n),a.appendChild(r),a.appendChild(i),a.appendChild(l),oe.appendChild(a)}function ue(t){const a=u(new e("button","navSubBtn")),r=u(new e("span","text",t.name)),n=u(new e("i",t.classArr));a.addEventListener("click",(()=>{document.getElementById(t.id).scrollIntoView()})),a.appendChild(n),a.appendChild(r),se.appendChild(a)}function pe(e,t){let a,r,n,l;const s=Object.values(t).filter((t=>{"search"===e.source?(a=Date.parse(e.releaseFrom),r=Date.parse(e.releaseTo),n=e.operator,l=e.rating):"statist"===e.source&&(a=Date.parse(e.filterReleaseFrom),r=Date.parse(e.filterReleaseTo),n=e.filterOperator,l=e.filterRating);const s=Date.parse(t.release_date),o=i(y,m),c=i(w,T);return!(e.gameName&&!t.name.toLowerCase().includes(e.gameName.toLowerCase())||a&&!(s>=a)||r&&!(s<=r)||!(!n||"greaterEqual"===n&&t.rating>=l||"greater"===n&&t.rating>l||"smaller"===n&&t.rating<l)||!(!e.languages||0===e.languages.length||d(t.supported_languages).some((t=>o[e.languages].includes(t)))&&t.supported_languages)||!(!e.categories||0===e.categories.length||d(t.categories).some((t=>c[e.categories].includes(t)))&&t.categories))}));switch(e.orderBy){case"ratingDesc":s.sort(((e,t)=>t.rating-e.rating));break;case"ratingAsc":s.sort(((e,t)=>e.rating-t.rating));break;case"nameDesc":s.sort(((e,t)=>t.name.localeCompare(e.name)));break;case"nameAsc":s.sort(((e,t)=>e.name.localeCompare(t.name)));break;case"releaseDateDesc":s.sort(((e,t)=>Date.parse(t.release_date)-Date.parse(e.release_date)));break;case"releaseDateAsc":s.sort(((e,t)=>Date.parse(e.release_date)-Date.parse(t.release_date)))}return"search"===e.source?s.slice(0,100):s}function ge(t){let a=ie[t];const r=document.getElementById("detialPage"),l=n({tag:"input",classArr:["detialCol-1000"],inputType:"text",value:a.name,readonly:"true",lableName:"Name:",colSpan:"4"}),i=n({tag:"img",classArr:["headerImage"],src:a["Header image"]}),s=n({tag:"input",classArr:["h1"],value:"No Image"}),c=n({tag:"input",inputType:"text",value:a.release_date,readonly:"true",lableName:"Release Date:"}),d=n({tag:"input",inputType:"text",value:a.rating,readonly:"true",lableName:"Rating:"}),g=n({tag:"textarea",classArr:["detialCol-1000"],inputType:"text",value:o(a.supported_languages),readonly:"true",lableName:"Supported Languages:",colSpan:"4"}),m=n({tag:"input",inputType:"text",value:a.achievements,readonly:"true",lableName:"Achievements:"}),h=n({tag:"textarea",classArr:["detialCol-1000"],inputType:"text",value:o(a.genres),readonly:"true",lableName:"Genres:",colSpan:"4"}),b=n({tag:"input",inputType:"text",value:a.owners,readonly:"true",lableName:"Owners:"}),y=n({tag:"textarea",classArr:["detialCol-1000"],inputType:"text",value:o(a.tags),readonly:"true",lableName:"Tags:",colSpan:"4"}),v=n({tag:"input",inputType:"text",value:o(a.platforms),readonly:"true",lableName:"Platforms:",colSpan:"4"}),f=n({tag:"input",inputType:"text",value:a.price,readonly:"true",lableName:"Price (USD):"}),T=n({tag:"textarea",classArr:["detialCol-1000"],inputType:"text",value:o(a.categories),readonly:"true",lableName:"Categories:",colSpan:"4"}),w=n({tag:"input",inputType:"text",value:a.total_negative,lableName:"Total Negative:",readonly:"true"}),B=n({tag:"input",inputType:"text",value:a.total_positive,lableName:"Total Positive:",readonly:"true"}),k=n({tag:"input",inputType:"text",value:a.review_score,lableName:"Review Score:",readonly:"true"}),A=n({tag:"button",classArr:["detailBtn"],innerHTML:"Add To Compare"}),E=n({tag:"i",classArr:["fa-solid","fa-table"]}),L=[[l],[c,b],[d,f],[v],[T],[B,w],[g],[k,m],[h],[y]];if(r.innerHTML="",a["Header image"]){let e=u(i);r.append(e)}else{let e=u(s);r.append(e)}let N=document.createElement("div");N.style.display="flex";let S=u(A);S.onclick=function(){C(t)};let R=u(E);S.appendChild(R),N.appendChild(S),r.appendChild(N);const I=u(new e("table"));L.forEach((e=>{let t=p(e);I.appendChild(t)})),r.appendChild(I),r.scrollIntoView()}de(A),de(E),de(L),ue(N),ue(A),ue(E),ue(L),function(t){const a=u(new e("table","user-input-table"));t.forEach((e=>{let t=p(e);a.appendChild(t)})),ce.appendChild(a),document.querySelector(".searchCriteriaBtn").addEventListener("click",(t=>{t.preventDefault(),function(t){const a=l("search");a.checkOnlyOneCriteria("search",0)?alert("At least choose one Criteria"):b(a)&&function(t){const a=document.getElementById("searchResultP"),r=document.getElementById("searchResultList");if(r.innerHTML="",0===t.length)a.innerHTML="No result";else{a.innerHTML="";const n=u(new e("table")),l=p(H);n.appendChild(l),t.forEach((e=>{let t=function(e,t){const a=e.map((e=>({...e})));a[0].value=t.name,a[1].value=t.rating,a[2].value=t.release_date,a[3].value=o(t.supported_languages),a[4].value=o(t.categories);const r=Object.assign({},M);r.attribute=t.name,r.onClick=function(){ge(t.name)},a.push(r);const n=Object.assign({},_);return n.attribute=t.name,n.onClick=function(){C(t.name)},a.push(n),a}(H,e);const a=p(t);n.appendChild(a)})),r.appendChild(n),1===t.length&&ge(t[0].name)}}(pe(a,t))}(ie)}))}(S),function(t){const a=document.getElementById("compare-searchArea"),r=u(new e("table")),i=u(new e("tr")),d=u(new e("td")),m=u(new e("td")),h=u(n({tag:"label",innerHTML:"Game1",lableName:"gameCompare1"})),b=u(n({tag:"label",innerHTML:"Game2",lableName:"gameCompare2"})),y=u(n({tag:"button",id:"clearBtn",innerHTML:"Clear"})),C=u(n({tag:"button",id:"clearBtn2",innerHTML:"Clear"})),f=u(P),T=u(F);y.onclick=function(){f.value=""},C.onclick=function(){T.value=""},d.colSpan=2,d.appendChild(h),d.appendChild(f),d.appendChild(y),m.colSpan=2,m.appendChild(b),m.appendChild(T),m.appendChild(C),i.appendChild(d),i.appendChild(m),r.appendChild(i),t.forEach((e=>{let t=p(e);r.appendChild(t)})),a.appendChild(r),document.querySelector(".compareCriteriaBtn").addEventListener("click",(t=>{t.preventDefault(),function(t){const a=l("compare");if(!a.gameCompare1||!gameCompare2)return void alert("Must select 2 games");if(a.checkOnlyOneCriteria("compare",0))return void alert("At least choose one Criteria");if("Chart"===a.radioBtn&&!a.areOnlyFiveFieldsChecked())return void alert("Display By Chart only support the criteria with (C)");const r=t[a.gameCompare1],i=t[a.gameCompare2],d=a.getCheckedPropertiesArray("compare"),p=document.getElementById("compareResultP"),m=document.getElementById("compareResult"),h=document.getElementById("chartArea");p.innerHTML="",m.innerHTML="",h.innerHTML="","Table"===a.radioBtn?function(t,a,r){const l=document.getElementById("compareResult"),i=u(new e("table")),s=u(new e("tr")),d=u(new e("th")),p=u(new e("th")),m=u(new e("th")),h=u(n({tag:"input",inputType:"text",value:a.name,readonly:!0})),b=u(n({tag:"input",inputType:"text",value:r.name,readonly:!0}));p.appendChild(h),m.appendChild(b),s.appendChild(d),s.appendChild(p),s.appendChild(m),i.appendChild(s),t.forEach((t=>{const l=u(new e("tr"));let s=[],d="input",p=a[t],m=r[t];"categories"!==t&&"tags"!==t&&"genres"!==t&&"supported_languages"!==t||(s=["compareCol-500"],d="textarea",p=o(a[t]),m=o(r[t]));const h=g(n({tag:"label",lableName:c(t)})),b=g(n({tag:d,classArr:s,inputType:"text",value:p,readonly:!0})),y=g(n({tag:d,classArr:s,inputType:"text",value:m,readonly:!0}));h.forEach((e=>l.appendChild(e))),b.forEach((e=>l.appendChild(e))),y.forEach((e=>l.appendChild(e))),i.appendChild(l)})),l.appendChild(i)}(d,r,i):function(e,t,a){v(e,"compare");let r=0;e.forEach((e=>{!function(e,t){new Chart(e.ctx,{type:e.type,data:{labels:[e.game1Data.name,e.game2Data.name],datasets:[{label:c(e.compareCol),data:[e.game1Data[e.compareCol],e.game2Data[e.compareCol]],borderWidth:1,backgroundColor:["skyblue","lavenderblush","wheat","powderblue","silver"][t]}]},options:{plugins:{legend:{labels:{font:{size:18},color:"yellow"}}},scales:{y:{beginAtZero:e.beginAtZero,grid:{zeroLineColor:"yellow",color:"white"},border:{color:"yellow"},ticks:{color:"yellow",font:{size:18}}},x:{drawTicks:!0,beginAtZero:!0,grid:{zeroLineColor:"yellow",color:"white"},border:{color:"yellow"},ticks:{color:"yellow",font:{size:18}},mirror:!0}}}})}(s({ctx:document.getElementById(`compare-canvas${r}`),type:"bar",compareCol:e,displayLable:e,game1Data:t,game2Data:a,beginAtZero:!1}),r),r++}))}(d,r,i)}(ie)}))}(te),function(t){const a=document.getElementById("statist-searchArea"),r=u(new e("table"));t.forEach((e=>{let t=p(e);r.appendChild(t)})),a.appendChild(r),document.querySelector(".statistCriteriaBtn").addEventListener("click",(e=>{e.preventDefault(),function(e){const t=l("statist");if(!b(t))return;if(t.checkOnlyOneCriteria("statist",0))return void alert("At least choose one Criteria");const a=t.getSelectedRadio(),r=document.getElementById("statistResultP"),n=document.getElementById("statist-chartArea");r.innerHTML="",n.innerHTML="",v([a],"statist");const i=document.getElementById("statist-canvas0"),o=function(e){const t={};return Object.keys(e).forEach((a=>{const r=a.trim().toLowerCase().replace(/"/g,""),n=r.charAt(0).toUpperCase()+r.slice(1);t[n]?t[n]+=e[a]:t[n]=e[a]})),t}(function(e,t){const a={};return e.forEach((e=>{const r=d(e[t]);r&&r.forEach((e=>{a[e]||(a[e]=0),a[e]+=1}))})),a}(pe(t,e),a));!function(e){let t=[],a=[];Object.keys(e.dataHash).forEach((r=>{t.push(r),a.push(e.dataHash[r])}));const r=a.reduce(((e,t)=>e+t),0),n=.001*r;let l=0;const i=a.filter(((e,a)=>!(e<n&&(l+=e,t.splice(a,1),1))));l>0&&(t.push("Others"),i.push(l));const s={labels:t,datasets:[{label:e.displayLable,data:i,hoverOffset:4,borderWidth:1}]},o={type:e.type,data:s,options:{plugins:{title:{display:!0,text:h(e,i.length),font:{size:30,weight:"bold"},color:"white"},tooltip:{callbacks:{label:e=>{const t=e.dataIndex,a=e.dataset.data[t];return`${a} (${(a/r*100).toFixed(2)}%)`}}},legend:{labels:{font:{size:15},color:"yellow"}},scales:{y:{beginAtZero:e.beginAtZero,grid:{zeroLineColor:"yellow",color:"white"},border:{color:"yellow"},ticks:{color:"yellow",font:{size:18}}},x:{drawTicks:!0,beginAtZero:!0,grid:{zeroLineColor:"yellow",color:"white"},border:{color:"yellow"},ticks:{color:"yellow",font:{size:18}},mirror:!0}}},responsive:!0,maintainAspectRatio:!1}};new Chart(e.ctx,o)}(s({ctx:i,type:"doughnut",compareCol:a,displayLable:a,dataHash:o,backgroundColor:"white",borderColor:"red"}))}(ie)}))}(le)}));let y=0;function C(e){const t=document.getElementById("gameCompare1"),a=document.getElementById("gameCompare2"),r=document.getElementById("comparePage"),n=window.confirm("add success, do you compare now?");t.value!==e&&a.value!==e?t.value?a.value?alert("Only can compare between 2 game "):(a.value=e,y+=1,n&&r.scrollIntoView()):(t.value=e,y+=1,1===y?alert("add success, you can add 1 more game for compare"):2===y&&n&&r.scrollIntoView()):alert("This game alreadly added")}function v(e,t){let a;"compare"===t?a=document.getElementById("chartArea"):"statist"===t&&(a=document.getElementById("statist-chartArea")),a.innerHTML="";for(let r=0;r<e.length;r++){const e=u(n({tag:"canvas",id:`${t}-canvas${r}`,classArr:["canvasClass"]}));a.appendChild(e)}}}()}();
//# sourceMappingURL=main.js.map